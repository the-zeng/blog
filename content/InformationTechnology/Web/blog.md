---
title: Hugoテーマの設定
author: the_zeng
---

## はじめに
このブログではHugoのテーマ「Learn」を使っています．

ブログではあまり見かけないですが，ドキュメントでは親しんだ感じです．

Hugoのドキュメントで使ってるのはどのtheme?
githubからみれる
gohugoiotheme
ダウンロードして使うようではなさそう．

### テーマを選ぶうえで気にしたこと
- 日本語の表示がそこそこきれい
- フォルダの構造でサイトの構造を決められる
- メニューバーがみやすい
- codeを表示してくれる

辺りです．

不満点としては，
- メニューの下層に移動するのが少し不自然（ページ移動ではなく，アコーディオン式に下層メニューが表示されてほしい．）
static/css/theme.css中の
```
-#sidebar ul.topics li.parent ul, #sidebar ul.topics > li.active ul { +#sidebar ul.topics li.parent > ul {
```
をすることで下層メニューの表示が少し整理される．

- 日本語に比べて英語の文字が細い．


### 設定する場所

#### config.toml
これはどのテーマを使うときも共通ですが，config.tomlに「このテーマを使うよ」ということを指定しなければいけません．
該当テーマのフォルダ中にあるconfig.tomlをコピーして，
themesdir = "../.."
をコメントアウトすればよいです．

各記事のパーマリンクは，サイト構造を変えるときの影響を減らしたいのと英語にしたいので
/:author/:filename/
にします．
（To Do: うまく変更されない）

To Do:
authorをファイル作成した人のgithubアカウントを自動的につけたい．

#### アイコンの設定
layouts/partials/logo.htmlでメニューバー上のロゴを設定しています．
SVGが軽いのでInkscapeでつくりました．

#### トップページ
デフォルトで「Custom Your Own Homepage」と表示されるページです．
これはlayouts/index.htmlが表示された結果です．
staticの中にindex.htmlをつくればそれが動くようです．

```
{{.Site.Home.Content}}
```
要するにcontentディレクトリ（.Site.Home）に何かmarkdownファイルがあればそれが読み込まれます．
_index.mdをつくればそれが表示されます．


#### faviconの設定
ブラウザーのタブ部分に表示されるマークです．
設定しとけば少しプロ感が出ます．

/static/images/favicon.pngが読み込まれる設定になっているのでロゴをこのファイル名にすればOKです．

#### menuバー下方への広告掲載
現在は写真で代替していますが，いずれは広告でも貼ろうかと考えています．
layouts/partials/menu-footer.htmlを編集すればよいです．

### ページの階層構造
記事に入れるメタデータは"title"だけにします．
```
---
title: テーマの設定
---
```
のように，メタデータはYAMLという方式でいれていきます．

このmarkdownファイル群がページの基礎となりますが，Learnテーマでは各階層に説明ページをつけることができます．

説明ページは_index.mdという名前にします．これはテーマ独自のものであり汎用性はありませんが，書き込むことはそれほど多くないのでつくっておくのがいいかと思います．

### 画像を管理する場所．
画像リンクのリンク切れが一番こわいです．
最もシンプルな対策はすべての記事をmarkdownファイルでなくmarkdownファイルを含む **フォルダ**で管理し，画像はすべて同じフォルダ内にいれるという方式です．

他にも全体からすぐに参照できるimageフォルダに入れておくのも手ですが，膨らみすぎるとめんどうになりそうです．

## To Do
- 記事のリコメンド機能
(upとdownをつけたい)
- ポイント順に表示する機能

http://klutche.org/archives/1741/
ここら辺が参考になりそう．
Ajaxを使う．

- menu下部に表示されるリンク等を消す．

- アイコンがLocalだとうまく設定されるがnetlifyだとデフォルトにもどってしまう．
（おそらくリンクがうまくできていない）


