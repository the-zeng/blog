---
title: markdownファイルからwebページをつくる
---

# 概要
諸々のメモをmarkdownファイルとしてとっています．
このmarkdownファイルをそのまま公開できないかなぁというのがモチベーションです．

# 要件定義
- markdownファイルをそのまま使える
- 使用サービスが停止してもmarkdownファイルは資産として残る
- markdownファイルはgithubで管理
- いずれは自分以外の記事も載せられるとうれしい

# 使用した技術
最近は静的サイトジェネレータ―というジャンルがあるらしいです．
目的そのままなのでこれを使います．

これのイメージとしては
1. blogの構造を示したCSS,JS, HTMLそしてコンテンツであるmarkdownファイルを集めたフォルダーをつくる
2. このフォルダーをHTMLに変換
3. 公開
という流れです．

使用したサービスは
- Github
- Hugo
- Netlify
の3つです．

githubはご存知のように，フォルダーを管理するのに使います．
HTMLに変換するためには，たとえばどの位置にどのファイルがあるかある程度決まったルールがないといけません．

一つのルール（言語のようなものでしょうか）がHugoです．
Hugoという言語があってそれをコンパイルするような流れですかね．
Hugoに基づくテンプレートは先人たちがつくっているのでそれを利用することができます．

コンパイルしたものを公開するのがNetlifyなのですが，実はNetlifyにもコンパイル機能があるのでここは機能がかぶります．

そうするとHugoの役割は「Hugoのルールをみんなで共有する」という感じでしょうか．

githubはbitbucket，HugoはHexo, Jekyll，Netlifyの代わりはgithub page，さらにレンタルサーバー全般があります．

# どれかサービスが停止したときの移植方法
Web技術は動きが激しいので流行りが変わったりサービスが終了することも考えられます．
そのときにどれだけラクに移植できるかが重要になってきます．

まず，上記のサービスがすべてつぶれようと，資産として絶対に残るのはLocalレポジトリのmarkdownファイル群です．
markdownが廃れるケースも考えられますが，おそらく新しいフォーマットへの変換ができるやつをだれかがすぐつくるでしょう．

markdownファイルをつくるうえで気にしないといけないのは「サービスに特化した記法にしない」ということです．

あまり一般的でないショートコードなどはできるだけ避けていきます．
またファイルの最初にメタ情報を書きますが，これもできるだけ一般的なものにしておきます．

怖いのはリンク切れです．
画像を貼り付ける場合，画像を置く位置はかなりジェネレーターに依存します．
絶対参照なんかしたくないです．

考えうる対策は **自分と同じフォルダーの中** か **下位の/imageフォルダー**など決まった名前のフォルダーに入れておくことです．

これさえしておけば，新たなジェネレーターが流行りだしたときに容易に移行することができるでしょう．

CSSとかを工夫する場合は移植が大変そうですが...
(私はそこらへんは出来合いのものを使っていくスタイルなので気にしません)


## 注意点
githubにあげるとき，themeをgithubから引っ張ってきていたらちょっと複雑なことになるので，themeのgitを外します．
rm -rf themes/{name of theme}/.git


## 参考

https://blog.mismithportfolio.com/web/hugo-netlify-build

